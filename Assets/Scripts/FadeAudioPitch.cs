using UnityEngine;
using NaughtyAttributes;
using Surge;

public class FadeAudioPitch : MonoBehaviour
{
     /*************************************************************************************************
     *** Variables
     *************************************************************************************************/
     [SerializeField] private float endValue;
     [SerializeField] private float duration;
     [SerializeField] private AudioSource audioSource;
     private bool fading;

     /*************************************************************************************************
     *** Start
     *************************************************************************************************/
     private void Start()
     {
     }

     /*************************************************************************************************
     *** Update
     *************************************************************************************************/
     private void Update()
     {
     }

     /*************************************************************************************************
     *** Properties
     *************************************************************************************************/

     /*************************************************************************************************
     *** Methods
     *************************************************************************************************/
     [Button]
     public void Fade()
     {
          if (!fading)
          {
               fading = true;
               Tween.Value(1f, endValue, (float value) => audioSource.pitch = value, duration, 0f, Tween.EaseInOut, Tween.LoopType.None, null, null, true);
          }
     }
}
